# Flow Sight フロントエンド仕様書

## 1. 概要

Flow Sightは、金融管理を目的としたWebアプリケーションのフロントエンド部分です。Next.js 15.4.2とTypeScriptを基盤とし、モダンなReact Hooksパターンと高い再利用性を持つコンポーネント設計を採用しています。

### 1.1 技術スタック

- **フレームワーク**: Next.js 15.4.2 (App Router)
- **言語**: TypeScript
- **テスト**: Jest Playwright
- **パッケージマネージャー**: pnpm 10.13.1

## 3. コンポーネント設計

### 3.2 管理コンポーネント

#### AssetManager
**機能**: クレジットカード・ローンの管理
**責務**:
- 資産の CRUD 操作
- 銀行口座との関連付け
- 締め日・支払日の設定

#### BankAccountManagement
**機能**: 銀行口座の管理
**責務**:
- 口座の追加・編集・削除
- 残高管理
- 他コンポーネントへの口座データ提供

#### CardMonthlyTotalManagement
**機能**: カード月額利用総額の管理
**責務**:
- 月次利用金額の設定
- カード別利用実績の表示
- 支払スケジュールの可視化

#### IncomeManagement 
**機能**: 収入源の管理
**責務**:
- 収入項目の CRUD 操作
- 月額・年額収入の設定
- 銀行口座との関連付け

#### RecurringPaymentManagement 
**機能**: 定期支払いの管理
**責務**:
- 定期支払項目の管理
- 支払サイクルの設定
- 支払予定の表示

#### CashflowProjection 
**機能**: キャッシュフロー予測
**責務**:
- 将来の収支予測計算
- グラフィカルな残高推移表示
- CSV出力機能
- 最低月支出設定

### 3.3 共通UIコンポーネント

#### ApiProvider 
**機能**: API通信の抽象化
**責務**:
- HTTPクライアントの設定
- エラーハンドリング
- レスポンス型の統一

#### ThemeProvider & ThemeToggle
**機能**: ダークモード・ライトモードの切り替え
**責務**:
- テーマ状態の管理
- CSS変数の動的更新
- ユーザー設定の永続化

#### ConfirmDialog
**機能**: 確認ダイアログ
**責務**:
- 破壊的操作の確認
- カスタマイズ可能なボタンテキスト
- アクセシビリティ対応

#### NotificationBanner 
**機能**: 通知バナー
**責務**:
- 操作結果の表示
- 自動消失機能
- 4段階のレベル分け（success, error, info, warning）

### 3.4 フォームコンポーネント

#### AssetForm 
**機能**: 資産登録フォーム
**責務**:
- クレジットカード・ローンの新規登録
- バリデーション処理
- 動的フィールド表示

#### TransactionForm
**機能**: 取引登録フォーム（将来実装）
**責務**:
- 支出取引の登録
- 資産・支払方法の選択
- 分割払い設定
